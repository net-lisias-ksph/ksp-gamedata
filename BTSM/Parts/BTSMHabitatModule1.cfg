PART
{
	// --- general parameters ---

	name = BTSMHabitatModule1
	module = Part
	author = FlowerChild

	// --- asset parameters ---

	MODEL
	
	{
	
		model = Squad/Parts/Science/LargeCrewedLab/large_crewed_lab
		scale = 1.0, 1.0, 1.0
	}

	rescaleFactor = 1

	// Mobile Processing Lab MPL-LG-2 nodes for reference
	//node_stack_top = 0.0, 1.830905, 0.0, 0.0, 1.0, 0.0
	//node_stack_bottom = 0.0, -1.830905, 0.0, 0.0, 1.0, 0.0

	node_stack_top = 0.0, 1.830905, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -1.830905, 0.0, 0.0, 1.0, 0.0, 2

	CrewCapacity = 2

	TechRequired = unassigned

	entryCost = 10400
	cost = 4000

	category = Pods
	subcategory = 0

	title = YU-GON-SOLNG Habitation And Science Module

	manufacturer = Integrated Integrals

	description = The first step in colonization is to provide a living space capable of keeping Kerbals happy and healthy through years of insanity inducing boredom in a deadly environment.  Constructed for maximum comfort, and loaded with nifty sciency stuff to play with, the YU module may achieve just that.  Aside from providing solutions for modern living, this unit also doubles as a mobile lab when two Kerbals are on board to help increase the amount of science we're able to do in the field.  Instead of needing to haul samples all the way back to Kerbin, this will allow you to process results on site for lossless transmission.  We've also integrated the equipment necessary to perform a detailed Habitation Study, which will require a single crew member to go on a five year mission to...stay in the same place.  The Habitation Study is only valid in low orbit around celstial bodies with an atmosphere or on the surface of any old chunk of rock, as we figure those are the places we will most likely want to habitate.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	// --- standard part parameters ---

	mass = 11.5 // 3.5 on stock mobile lab

	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 1

	crashTolerance = 6
	breakingForce = 200
	breakingTorque = 200

	maxTemp = 1400

	vesselType = Ship

	// !!!WARNING!!!! This must remain as the first module due to the science lab module referring to it by index (stock problem)
	// This is the reason this needs to be a separate part from the mobile lab as ModuleManager apparently doesn't preserve module indexes when changing values
	MODULE
	{
		name = BTSMModuleScienceContainer
	
		reviewActionName = Review Data
		storeActionName = Store Experiments	
		collectActionName = Take Data
	
		evaOnlyStorage = True
		storageRange = 2
	
		allowRepeatedSubjects = True
	}

	MODULE
	{
		name = ModuleScienceLab
	
		containerModuleIndex = 0	
		dataTransmissionBoost = 10000000000.0
		crewsRequired = 2
	
		canResetConnectedModules = True
		canResetNearbyModules = False
		interactionRange = 5
	
		RESOURCE_PROCESS
		{
			name = ElectricCharge
			amount = 10
		}
	}

	MODULE
	{
		name = BTSMModuleLifeSupport

		energyConsumedRate = 0.22222224 // 8 times a probe core (0.02777778)

		lifeSupportConsumedRate = 0.0025 
	}

	RESOURCE
	{
		name = LifeSupport
		amount = 1000
		maxAmount = 1000
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 800
		maxAmount = 800
	}

	MODULE
	{
		name = BTSMModuleCrewReport
	
		experimentID = crewReport
	
		experimentActionName = Crew Report
		resetActionName = Discard Crew Report
		reviewActionName = Review Report
	
		useStaging = False	
		useActionGroups = False
		hideUIwhenUnavailable = False	
		rerunnable = True
	
		xmitDataScalar = 1.0
	}

	MODULE
	{
		name = BTSMModuleScienceExperimentHabitationStudy
	
		experimentID = HabitationStudy
	
		experimentActionName = Initiate Habitation Study
		resetActionName = Reset Habitation Study
		reviewActionName = Review Study
		
		useStaging = False
		useActionGroups = False

		hideUIwhenUnavailable = False
	
		resettable = True
		resettableOnEVA = True
	
		xmitDataScalar = 1.0
	
		dataIsCollectable = True
		collectActionName = Take Data
		interactionRange = 1.2
	
		rerunnable = True

		// BTSMModuleScienceExperimentWithTime specific values

		timeToComplete = 157680000 // 5 years

		experimentGuiName = Habitation Study

		energyConsumedWhenActiveRate = 0.02777778 // same as stock probe core

		autoStoreResultsInDataContainer = True
	}

	MODULE
	{
		name = BTSMModuleScienceExperimentSecondary
	
		experimentID = OrbitalHabitationStudy
	
		experimentActionName = Initiate Habitation Study
		resetActionName = Reset Habitation Study
		reviewActionName = Review Study
		
		useStaging = False
		useActionGroups = False

		hideUIwhenUnavailable = False
	
		resettable = True
		resettableOnEVA = True
	
		xmitDataScalar = 1.0
	
		dataIsCollectable = True
		collectActionName = Take Data
		interactionRange = 1.2
	
		rerunnable = True

		autoStoreResultsInDataContainer = True
	}

	MODULE
	{
		name = BTSMModuleScienceZoneDisplay

		displayBiome = True
	}

	MODULE
	{
		name = BTSMModuleCrewPassage
	}

	// adding a command module for the time being as otherwise the gui for the lab goes dead when all your crew are in it

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 2
	}

	MODULE
	{
	      name = FlagDecal
	      textureQuadName = flagTransform
	}
}