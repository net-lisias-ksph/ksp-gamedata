PART
{
	// --- general parameters ---

	name = BTSMKAPU
	module = Part
	author = FlowerChild

	// --- asset parameters ---

	MODEL
	
	{
	
		model = Squad/Parts/Science/LargeCrewedLab/large_crewed_lab
		scale = 1.0, 1.0, 1.0
	}

	MODEL
	
	{
	
		model = Squad/Parts/Science/LargeCrewedLab/large_crewed_lab
		scale = 1.0, 1.0, 1.0
		position = 0.0, 3.575, 0.0
	}

	rescaleFactor = 1

	// Mobile Processing Lab MPL-LG-2 nodes for reference
	//node_stack_top = 0.0, 1.830905, 0.0, 0.0, 1.0, 0.0
	//node_stack_bottom = 0.0, -1.830905, 0.0, 0.0, 1.0, 0.0
//	node_stack_top = 0.0, 5.492715, 0.0, 0.0, 1.0, 0.0
//	node_stack_top = 0.0, 5.405905, 0.0, 0.0, 1.0, 0.0
	node_stack_top = 0.0, 5.400, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -1.830905, 0.0, 0.0, 1.0, 0.0, 2

	TechRequired = unassigned

	entryCost = 38200
	cost = 3300

	category = Utility
	subcategory = 0

	title = KP-9000 K.A.P.U.

	manufacturer = Experimental Engineering Group

	description = Through extensive study of the atmosphere and a fair amount of vaguely scientific sounding voodo we've managed to devise the Kerbin Atmospheric Processing Unit which allows for the conversion of Kerbin's atmosphere into some rather useful resources such as Fuel, Oxidizer, and Life Support.  When used in combination with an Air Scoop, this should make transporting supplies into orbit a thing of the past and aid greatly in the construction and resupply of interplanetary vessels.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	// --- standard part parameters ---

	mass = 25.0

	dragModelType = default

	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 1

	crashTolerance = 8

	maxTemp = 1500

	MODULE
	{              
		name = BTSMModuleResourceProcessorController

		energyConsumedRate = 0.45 // 0.7 pre 1.54 // 0.75 pre 1.51. Gigantor is 0.9 

		kerbinOnlyOperation = True
	}

	MODULE
	{              
		name = BTSMModuleResourceProcessor

		resourceToProduce = LifeSupport

		maxOutputRate = 0.0001125 // Equivalent to 1/5th of the consumption rate of a cupola + recycler with a bit of surplus for wiggle room (0.0001 is without wiggle)
	}

	MODULE
	{              
		name = BTSMModuleResourceProcessor

		resourceToProduce = MonoPropellant

		maxOutputRate = 0.00001
	}

	MODULE
	{
		name = BTSMModuleResourceProcessorCrossfeed

		resourceToProduce = LiquidFuel

		maxOutputRate = 0.00009
	}

	MODULE
	{
		name = BTSMModuleResourceProcessorCrossfeed

		resourceToProduce = Oxidizer

		maxOutputRate = 0.00011
	}

	MODULE
	{
		name = BTSMModuleCrewPassage
	}

	// energy storage acts as buffer for high consumption rate during high rates of time accel
	RESOURCE
	{
		name = ElectricCharge

		amount = 6000
		maxAmount = 6000	
	}
}